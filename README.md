# final-project-final_project_books
final-project-final_project_books created by GitHub Classroom

Group Member: Violet Huang, Ryan Liang, April Wang

# Social Significance:
The task of scraping social science related books using the Google Books API carries social significance and presents valuable opportunities for information mining. By accessing and analyzing a vast collection of books using large scale method, we can explore valuable insights and trends in social science topics acorss years and genres. Through sentiment analysis, we have gained a deeper understanding of the prevailing sentiments, attitudes, and perspectives expressed within these books based on scraped description attributed to the book, shedding light on societal attitudes and opinions on social science issues. Furthermore, employing machine learning techniques for categorization and topic modeling, we extracted insightful thematic information from the data, identifying key themes, trends, and patterns in social science literature. This information can be utilized to inform policy-making, academic research, and social discourse, providing a comprehensive and data-driven understanding of various social science domains. The availability of this vast collection of books through the Google Books API opens up new possibilities for data-driven research and enriches our understanding of the social world.


# Work Distribution
- April Wang: Collected data using Google Books API, parallelized with AWS lambda function and step function, stored book information in AWS RDS table
- Violet Huang: Cleaned Data, performed supervised machine learning prediction task, generate Roberta sentence embedding
- Ryan Liang: Cleaned Data, employed natural language processing with BERT topic, applied computer vision with Google Cloud API to book cover

# 1. Scalable Data Scraping
The lambda function can be found [here](https://github.com/macs30123-s23/final-project-final_project_books/blob/main/scraper_lambda.py) and the jupyter notebook on scraping can be found [here](https://github.com/macs30123-s23/final-project-final_project_books/blob/main/scrape_book.ipynb)
1. Create an open source RDS database using ```'IpRanges': [{'CidrIp': '0.0.0.0/0'}]```
2. After creating a Google Cloud Account and a Google Cloud project specified by Google Books API, we can start our scraping process
3. Sppecifically, we perform a volumes search by sending an HTTP GET request to the following URI ```https://www.googleapis.com/books/v1/volumes?q=search+terms```
4. Our goal is to scrape social science related books, therefore we specify the following list of subjects as search terms:
    - cat_lst = ['business', 'economics', 'environment', 'race', 'education', 'history', 'law', 'policy', 'politics', 'psychology', 'religion', 'society', 'communication', 'culture', 'fiction', 'textbook', 'crime']
5. This project aims to conduct a large scale scraping by parallelizing the searches, so we specify start index values. 
    - startIndex: The position in the collection at which to start. The index of the first item is 0. We use 800 as our range for startIndex.
    - maxResults: The maximum number of results to return. The default is 10, and the maximum allowable value is 40. We use 40 as our maxResults
6. In order to obtain the most representative datasets of social science related Google books, we roiginally wrote the lambda function [max_start.py](https://github.com/macs30123-s23/final-project-final_project_books/blob/main/max_start.py). This lambda function distributes across all subjects in our social science category, incrementing startIndex by 20 per request until run into either ```response_content.get('totalItems', 0) <= 0``` or ```response.status_code != 200``` However, by running the designed lambda function and distributing the tasks of finding individual max start index to different lambda worker, we keep hitting the maximum scraping limit returned by a status code of 429. Therefore, the issues of not being able to parallelize the tasks of finding the individual max start index is one of the limitation of our project
7. After manually checking for each category's max start index, we find the following corresponding max start index:
    - business: 900, economics: 880, environment: 960, race: 940, education: 960, history: 900, law: 940, policy: 960, politics: 960, psychology: 940, religion: 880, society: 960, communication: 960, culture: 960, fiction: 920, textbook: 940, crime: 940
    - Based on these maximum values, we have decided to set the uniform maximum start index to 800 for scraping books related to all categories. This choice ensures that a substantial number of books are retrieved for each category while also considering the variations in available books across different subjects.
8. Based on above justification, we created a set of start index using the following codes:
```
start_indices = list(range(0, 840, 40))
batches = []
for cat in cat_lst:
    for start_index in start_indices:
        batches.append({'book':[cat, start_index]})
```
such that we obtain the following batch: [{'book': ['business', 0]}, {'book': ['business', 40]}, {'book': ['business', 80]}, ...,  {'book': ['crime', 720]},
 {'book': ['crime', 800]}]
9. Finally, we formulate the following lambda function using similar logic in assignment 2 to distribute the scraping task into two fold paralleling
        - Distribute the tasks of collecting social science related books to each lambda in charge of only one category
        - Further distribute the task of collecting books of a specific category into subtask, such that each lambda worker scrape information on 40 books on this category

```
def search_books(subject, start_index):
    url = "https://www.googleapis.com/books/v1/volumes"
    parameters = {
        "q": subject,
        "key": api_key,
        "printType": "books",
        "maxResults": 40,
        "startIndex": start_index
    }
    books = []
    while True:
        try:
            response = requests.get(url, params=parameters)
            break
        except:
            continue
    if response.status_code == 200:
        results = json.loads(response.content)
        books.extend(results["items"])
    else:
        print(response)
        print(f"Failed to fetch results for subject {subject} at start index {start_index}.")
    return books
```

```
def store_books_in_db(books):
    ''' 
    Helper function to store all scraped books into db
    Input (list): information of all books from search_books function
    '''

    table = db['book_info2']

    for book in books:
        book_info = {
            'book_id': book['id'],
            'title': book['volumeInfo']['title'] if 'title' in book['volumeInfo'] else None,
            'subtitle': book['volumeInfo']['subtitle'] if 'subtitle' in book['volumeInfo'] else None,
            'authors': ', '.join(book['volumeInfo']['authors']) if 'authors' in book['volumeInfo'] else None,
            'publisher': book['volumeInfo']['publisher'] if 'publisher' in book['volumeInfo'] else None,
            'published_date': book['volumeInfo']['publishedDate'] if 'publishedDate' in book['volumeInfo'] else None,
            'description': book['volumeInfo']['description'] if 'description' in book['volumeInfo'] else None,
            'categories': book['volumeInfo']['categories'] if 'categories' in book['volumeInfo'] else None,
            'imageLinks': book['volumeInfo']['imageLinks'] if 'imageLinks' in book['volumeInfo'] else None
        }

        existing_book = table.find_one(book_id=book['id'])
        if not existing_book:
            table.upsert({'book_id': book['id'], 'book_info2': json.dumps(book_info)}, ['book_id']) 
```

```
def lambda_handler(event, context):
    books_batches = event['book']
    subject = books_batches[0]
    start_index = books_batches[1]
    books = search_books(subject, start_index)
    store_books_in_db(books)
```



# 2. Multiclass Prediction 
This part of the project is focused on predicting the category of a book based on its description using machine learning techniques. It utilizes the dataset mentioned, and employs a Natural Language Processing (NLP) pipeline in conjunction with logistic regression for the text classification task.

The dataset is first processed to create a balanced distribution for each category. Categories with less than 100 books are discarded. The remaining categories are then down-sampled or upsampled to create a dataset with 300 books for each category. Categories include: Medical, Religion, Psychology, Political Science, Social Science, Science, Literary Criticism, Education, Fiction, History, Law, Language Arts & Disciplines, Philosophy, Biography & Autobiography, Business & Economics

The NLP pipeline consists of several steps:

1. Document assembly: converting raw input into usable text data
2. Tokenization: breaking down the text into individual words (tokens)
3. Stopword removal: eliminating common words that don't provide valuable information
4. Lemmatization: reducing words to their base or root form (e.g., "running" to "run")
5, Count Vectorization: converting the processed text data into a numerical representation that machine learning algorithms can understand

The processed data is then fed into a logistic regression model, a common method for text classification tasks. The model is trained to predict the book category based on the processed description. The most predictive words for each category are extracted from the model, providing insight into the words that heavily influence the classification into each category.

This project showcases the power and scalability of Apache Spark in handling large-scale text data and implementing machine learning algorithms efficiently. The script uses PySpark, a Python library for Spark programming, to build and run the NLP pipeline and logistic regression model.

The output of this project includes the logistic regression model and a list of the most predictive words for each category. These words are presented along with their coefficients, which represent their influence on the prediction of each category.

This project could be of particular interest to researchers, data scientists, or businesses in the publishing industry seeking to understand and predict book categories based on descriptions, or to anyone interested in text classification and natural language processing.

# 3. Natural Language Processing

# 4. Computer Vision

<div id="ldavis_el1101404896749483046115468445"><div id="ldavis_el1101404896749483046115468445-top" style="width: 1210px"><div style="padding: 5px; background-color: #e8e8e8; display: inline-block; width: 530px; height: 50px; float: left"><label for="ldavis_el1101404896749483046115468445-topic" style="font-family: sans-serif; font-size: 14px">Selected Topic: <span id="ldavis_el1101404896749483046115468445-topic-value"></span></label><input style="width: 50px" type="text" min="0" max="10" step="1" id="ldavis_el1101404896749483046115468445-topic"><button id="ldavis_el1101404896749483046115468445-topic-down" style="margin-left: 5px">Previous Topic</button><button id="ldavis_el1101404896749483046115468445-topic-up" style="margin-left: 5px">Next Topic</button><button id="ldavis_el1101404896749483046115468445-topic-clear" style="margin-left: 5px">Clear Topic</button></div><div id="ldavis_el1101404896749483046115468445-lambdaInput" style="padding: 5px; background-color: #e8e8e8; display: inline-block; height: 50px; width: 530px; float: right; margin-right: 30px"><div style="padding: 5px; height: 20px; width: 220px; font-family: sans-serif; float: left" id="ldavis_el1101404896749483046115468445-lambdaZero"><text x="0" y="0" style="font-size: 14px;">Slide to adjust relevance metric:</text><text x="125" y="-5" style="font-size: 10px; position: absolute;">(2)</text></div><div id="ldavis_el1101404896749483046115468445-sliderdiv" style="padding: 5px; height: 40px; width: 250px; float: right; margin-top: -5px; margin-right: 10px"><input style="width: 250px; margin-left: 0px; margin-right: 0px" type="range" min="0" max="1" step="0.01" id="ldavis_el1101404896749483046115468445-lambda" list="ticks"><svg width="250" height="25"><g class="slideraxis" margin-top="-10px" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle"><path class="domain" stroke="currentColor" d="M8,10V0.5H243V10"></path><g class="tick" opacity="1" transform="translate(8,0)"><line stroke="currentColor" y2="10"></line><text fill="currentColor" y="13" dy="0.71em">0.0</text></g><g class="tick" opacity="1" transform="translate(55,0)"><line stroke="currentColor" y2="10"></line><text fill="currentColor" y="13" dy="0.71em">0.2</text></g><g class="tick" opacity="1" transform="translate(102,0)"><line stroke="currentColor" y2="10"></line><text fill="currentColor" y="13" dy="0.71em">0.4</text></g><g class="tick" opacity="1" transform="translate(149,0)"><line stroke="currentColor" y2="10"></line><text fill="currentColor" y="13" dy="0.71em">0.6</text></g><g class="tick" opacity="1" transform="translate(196,0)"><line stroke="currentColor" y2="10"></line><text fill="currentColor" y="13" dy="0.71em">0.8</text></g><g class="tick" opacity="1" transform="translate(243,0)"><line stroke="currentColor" y2="10"></line><text fill="currentColor" y="13" dy="0.71em">1.0</text></g></g></svg></div><label id="ldavis_el1101404896749483046115468445-lamlabel" for="ldavis_el1101404896749483046115468445-lambda" style="height: 20px; width: 60px; font-family: sans-serif; font-size: 14px; margin-left: 80px">λ = <span id="ldavis_el1101404896749483046115468445-lambda-value">1</span></label></div></div><svg width="1210" height="780"><g id="ldavis_el1101404896749483046115468445-leftpanel" class="points" transform="translate(30,60)"><rect x="0" y="0" height="530" width="530" opacity="0" style="fill: rgb(31, 119, 180);"></rect><line x1="0" x2="530" y1="265" y2="265" stroke="gray" opacity="0.3"></line><text x="0" y="260" fill="gray">PC1</text><line x1="265" x2="265" y1="0" y2="530" stroke="gray" opacity="0.3"></line><text x="270" y="7" fill="gray">PC2</text><circle class="circleGuideSmall" r="21.143940861275933" cx="57.279289078048436" cy="551.143940861276" style="fill: none; stroke-dasharray: 2, 2; stroke: rgb(153, 153, 153);"></circle><line class="lineGuideSmall" x1="57.279289078048436" x2="128.1982226951211" y1="572.2878817225519" y2="572.2878817225519" style="stroke: gray; opacity: 0.3;"></line><circle class="circleGuideMedium" r="33.43150591676712" cx="57.279289078048436" cy="563.4315059167672" style="fill: none; stroke-dasharray: 2, 2; stroke: rgb(153, 153, 153);"></circle><line class="lineGuideMedium" x1="57.279289078048436" x2="128.1982226951211" y1="596.8630118335343" y2="596.8630118335343" style="stroke: gray; opacity: 0.3;"></line><circle class="circleGuideLarge" r="47.279289078048436" cx="57.279289078048436" cy="577.2792890780485" style="fill: none; stroke-dasharray: 2, 2; stroke: rgb(153, 153, 153);"></circle><line class="lineGuideLarge" x1="57.279289078048436" x2="128.1982226951211" y1="624.5585781560969" y2="624.5585781560969" style="stroke: gray; opacity: 0.3;"></line><text x="10" y="520" class="circleGuideTitle">Marginal topic distribution</text><text x="138.1982226951211" y="572.2878817225519" class="circleGuideLabelSmall" style="text-anchor: start;">2%</text><text x="138.1982226951211" y="596.8630118335343" class="circleGuideLabelMedium" style="text-anchor: start;">5%</text><text x="138.1982226951211" y="624.5585781560969" class="circleGuideLabelLarge" style="text-anchor: start;">10%</text><text class="txt" x="230.77137466376902" y="249.28738751944277" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">1</text><text class="txt" x="24.0909090909091" y="345.24408907497656" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">2</text><text class="txt" x="360.6022661102618" y="201.25521961834403" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">3</text><text class="txt" x="505.909090909091" y="457.93848015599366" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">4</text><text class="txt" x="247.1337052504165" y="301.22555391034064" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">5</text><text class="txt" x="461.8159007045308" y="341.24196158414935" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">6</text><text class="txt" x="60.121936359446906" y="375.13150828685076" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">7</text><text class="txt" x="413.9187918976455" y="162.6652384104659" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">8</text><text class="txt" x="398.5169898051095" y="457.1391407640227" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">9</text><text class="txt" x="327.61894715631036" y="80.06151984400626" stroke="black" opacity="1" style="text-anchor: middle; font-size: 11px;">10</text><circle class="dot" r="66.73537851607223" cx="230.77137466376902" cy="245.28738751944277" stroke="black" id="ldavis_el1101404896749483046115468445-topic1" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="62.98995304788362" cx="24.0909090909091" cy="341.24408907497656" stroke="black" id="ldavis_el1101404896749483046115468445-topic2" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="58.29161989997498" cx="360.6022661102618" cy="197.25521961834403" stroke="black" id="ldavis_el1101404896749483046115468445-topic3" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="42.26529157863704" cx="505.909090909091" cy="453.93848015599366" stroke="black" id="ldavis_el1101404896749483046115468445-topic4" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="42.20423505576812" cx="247.1337052504165" cy="297.22555391034064" stroke="black" id="ldavis_el1101404896749483046115468445-topic5" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="39.8461207003133" cx="461.8159007045308" cy="337.24196158414935" stroke="black" id="ldavis_el1101404896749483046115468445-topic6" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="39.5534129812403" cx="60.121936359446906" cy="371.13150828685076" stroke="black" id="ldavis_el1101404896749483046115468445-topic7" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="38.04093066751578" cx="413.9187918976455" cy="158.6652384104659" stroke="black" id="ldavis_el1101404896749483046115468445-topic8" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="37.326507509784726" cx="398.5169898051095" cy="453.1391407640227" stroke="black" id="ldavis_el1101404896749483046115468445-topic9" style="opacity: 0.2; fill: rgb(31, 119, 180);"></circle><circle class="dot" r="31.20793432620215" cx="327.61894715631036" cy="76.06151984400626" stroke="black" id="ldavis_el1101404896749483046115468445-topic10" style="opacity: 0.6; fill: rgb(214, 39, 40);"></circle></g><text x="295" y="30" style="font-size: 16px; text-anchor: middle;">Intertopic Distance Map (via multidimensional scaling)</text><g transform="translate(650,60)" id="ldavis_el1101404896749483046115468445-bar-freqs"><rect x="0" y="540" height="15" width="100" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><text x="105" y="547.5" style="dominant-baseline: middle;">Overall term frequency</text><rect x="0" y="560" height="15" width="50" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><text x="55" y="567.5" style="dominant-baseline: middle;">Estimated term frequency within the selected topic</text><a xlink:href="http://vis.stanford.edu/files/2012-Termite-AVI.pdf" target="_blank"><text x="0" y="590" style="dominant-baseline: middle;">1. saliency(term w) = frequency(w) * [sum_t p(t | w) * log(p(t | w)/p(t))] for topics t; see Chuang et. al (2012)</text></a><a xlink:href="http://nlp.stanford.edu/events/illvi2014/papers/sievert-illvi2014.pdf" target="_blank"><text x="0" y="605" style="dominant-baseline: middle;">2. relevance(term w | topic t) = λ * p(w | t) + (1 - λ) * p(w | t)/p(w); see Sievert &amp; Shirley (2014)</text></a><rect class="bar-totals" x="0" y="11" height="15" width="44.41857854308705" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="28" height="15" width="51.89340648605835" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="45" height="15" width="25.18593647014045" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="62" height="15" width="74.64912995425846" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="79" height="15" width="481.77192034980976" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="96" height="15" width="462.9100264018583" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="113" height="15" width="15.441563705077902" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="130" height="15" width="427.3426513486635" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="147" height="15" width="13.902270516442261" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="164" height="15" width="14.454779043557556" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="181" height="15" width="21.510367432581806" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="198" height="15" width="14.784884929680969" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="215" height="15" width="99.14779919514214" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="232" height="15" width="9.95695094843309" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="249" height="15" width="36.016515485369396" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="266" height="15" width="369.7568879563578" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="283" height="15" width="13.168283053183236" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="300" height="15" width="11.906802780142337" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="317" height="15" width="12.402476250174402" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="334" height="15" width="7.9577552918233225" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="351" height="15" width="8.285483969440213" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="368" height="15" width="7.304088781213805" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="385" height="15" width="6.980618544186122" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="402" height="15" width="283.7131499744919" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="419" height="15" width="10.116481041284676" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="436" height="15" width="39.23954438448584" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="453" height="15" width="7.915831658553383" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="470" height="15" width="7.782284159215161" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="487" height="15" width="19.95500371201528" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><rect class="bar-totals" x="0" y="504" height="15" width="331.0550972441623" opacity="0.4" style="fill: rgb(31, 119, 180);"></rect><text x="-5" class="terms" y="23" cursor="pointer" id="ldavis_el1101404896749483046115468445-termFashion accessory" style="text-anchor: end;">Fashion accessory</text><text x="-5" class="terms" y="40" cursor="pointer" id="ldavis_el1101404896749483046115468445-termLiquid" style="text-anchor: end;">Liquid</text><text x="-5" class="terms" y="57" cursor="pointer" id="ldavis_el1101404896749483046115468445-termDrink" style="text-anchor: end;">Drink</text><text x="-5" class="terms" y="74" cursor="pointer" id="ldavis_el1101404896749483046115468445-termEyelash" style="text-anchor: end;">Eyelash</text><text x="-5" class="terms" y="91" cursor="pointer" id="ldavis_el1101404896749483046115468445-termAdvertising" style="text-anchor: end;">Advertising</text><text x="-5" class="terms" y="108" cursor="pointer" id="ldavis_el1101404896749483046115468445-termPublication" style="text-anchor: end;">Publication</text><text x="-5" class="terms" y="125" cursor="pointer" id="ldavis_el1101404896749483046115468445-termLiqueur" style="text-anchor: end;">Liqueur</text><text x="-5" class="terms" y="142" cursor="pointer" id="ldavis_el1101404896749483046115468445-termCircle" style="text-anchor: end; font-weight: normal;">Circle</text><text x="-5" class="terms" y="159" cursor="pointer" id="ldavis_el1101404896749483046115468445-termJewellery" style="text-anchor: end;">Jewellery</text><text x="-5" class="terms" y="176" cursor="pointer" id="ldavis_el1101404896749483046115468445-termEyebrow" style="text-anchor: end;">Eyebrow</text><text x="-5" class="terms" y="193" cursor="pointer" id="ldavis_el1101404896749483046115468445-termEyewear" style="text-anchor: end;">Eyewear</text><text x="-5" class="terms" y="210" cursor="pointer" id="ldavis_el1101404896749483046115468445-termJaw" style="text-anchor: end;">Jaw</text><text x="-5" class="terms" y="227" cursor="pointer" id="ldavis_el1101404896749483046115468445-termMetal" style="text-anchor: end;">Metal</text><text x="-5" class="terms" y="244" cursor="pointer" id="ldavis_el1101404896749483046115468445-termFluid" style="text-anchor: end;">Fluid</text><text x="-5" class="terms" y="261" cursor="pointer" id="ldavis_el1101404896749483046115468445-termGlass" style="text-anchor: end;">Glass</text><text x="-5" class="terms" y="278" cursor="pointer" id="ldavis_el1101404896749483046115468445-termLogo" style="text-anchor: end; font-weight: normal;">Logo</text><text x="-5" class="terms" y="295" cursor="pointer" id="ldavis_el1101404896749483046115468445-termMacro photography" style="text-anchor: end;">Macro photography</text><text x="-5" class="terms" y="312" cursor="pointer" id="ldavis_el1101404896749483046115468445-termChin" style="text-anchor: end;">Chin</text><text x="-5" class="terms" y="329" cursor="pointer" id="ldavis_el1101404896749483046115468445-termFacial hair" style="text-anchor: end;">Facial hair</text><text x="-5" class="terms" y="346" cursor="pointer" id="ldavis_el1101404896749483046115468445-termBottle" style="text-anchor: end;">Bottle</text><text x="-5" class="terms" y="363" cursor="pointer" id="ldavis_el1101404896749483046115468445-termEye" style="text-anchor: end;">Eye</text><text x="-5" class="terms" y="380" cursor="pointer" id="ldavis_el1101404896749483046115468445-termDrinkware" style="text-anchor: end;">Drinkware</text><text x="-5" class="terms" y="397" cursor="pointer" id="ldavis_el1101404896749483046115468445-termDistilled beverage" style="text-anchor: end;">Distilled beverage</text><text x="-5" class="terms" y="414" cursor="pointer" id="ldavis_el1101404896749483046115468445-termBook cover" style="text-anchor: end;">Book cover</text><text x="-5" class="terms" y="431" cursor="pointer" id="ldavis_el1101404896749483046115468445-termPersonal protective equipment" style="text-anchor: end;">Personal protective equipment</text><text x="-5" class="terms" y="448" cursor="pointer" id="ldavis_el1101404896749483046115468445-termLabel" style="text-anchor: end;">Label</text><text x="-5" class="terms" y="465" cursor="pointer" id="ldavis_el1101404896749483046115468445-termForehead" style="text-anchor: end;">Forehead</text><text x="-5" class="terms" y="482" cursor="pointer" id="ldavis_el1101404896749483046115468445-termHair coloring" style="text-anchor: end;">Hair coloring</text><text x="-5" class="terms" y="499" cursor="pointer" id="ldavis_el1101404896749483046115468445-termFur" style="text-anchor: end;">Fur</text><text x="-5" class="terms" y="516" cursor="pointer" id="ldavis_el1101404896749483046115468445-termArt" style="text-anchor: end;">Art</text><g x="xaxis" fill="none" font-size="10" font-family="sans-serif" text-anchor="middle"><path class="domain" stroke="currentColor" d="M0.5,0.5H530.5"></path><g class="tick" opacity="1" transform="translate(0.5,0)"><line stroke="currentColor" y2="0"></line><text fill="currentColor" y="-3" dy="0em">0</text></g><g class="tick" opacity="1" transform="translate(88.83333333333333,0)"><line stroke="currentColor" y2="0"></line><text fill="currentColor" y="-3" dy="0em">1,000</text></g><g class="tick" opacity="1" transform="translate(177.16666666666666,0)"><line stroke="currentColor" y2="0"></line><text fill="currentColor" y="-3" dy="0em">2,000</text></g><g class="tick" opacity="1" transform="translate(265.5,0)"><line stroke="currentColor" y2="0"></line><text fill="currentColor" y="-3" dy="0em">3,000</text></g><g class="tick" opacity="1" transform="translate(353.8333333333333,0)"><line stroke="currentColor" y2="0"></line><text fill="currentColor" y="-3" dy="0em">4,000</text></g><g class="tick" opacity="1" transform="translate(442.1666666666667,0)"><line stroke="currentColor" y2="0"></line><text fill="currentColor" y="-3" dy="0em">5,000</text></g><g class="tick" opacity="1" transform="translate(530.5,0)"><line stroke="currentColor" y2="0"></line><text fill="currentColor" y="-3" dy="0em">6,000</text></g></g><text x="265" y="-30" class="bubble-tool" style="text-anchor: middle; font-size: 16px;">Top-30 Most Relevant Terms for Topic 10 (4.4% of tokens)</text><rect class="overlay" x="0" y="11" height="15" width="27.469689213617404" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="28" height="15" width="25.37754255023384" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="45" height="15" width="25.047372379994332" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="62" height="15" width="23.64896808583625" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="79" height="15" width="17.315350587821197" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="96" height="15" width="16.915574218635722" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="113" height="15" width="15.345325772597398" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="130" height="15" width="14.433397109434285" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="147" height="15" width="13.779987985213095" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="164" height="15" width="13.130406360034934" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="181" height="15" width="12.467649643764805" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="198" height="15" width="11.69792526136344" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="215" height="15" width="11.12528063927341" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="232" height="15" width="9.860399013635359" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="249" height="15" width="9.40587344975054" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="266" height="15" width="8.404469771204049" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="283" height="15" width="8.173634887191856" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="300" height="15" width="8.087722235494292" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="317" height="15" width="8.082544556634543" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="334" height="15" width="7.861941886905792" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="351" height="15" width="7.79592820922181" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="368" height="15" width="7.207645627318754" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="385" height="15" width="6.885001028900878" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="402" height="15" width="6.784074930530272" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="419" height="15" width="6.472860681766006" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="436" height="15" width="6.217103074175547" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="453" height="15" width="6.026982802849706" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="470" height="15" width="6.017495732010951" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="487" height="15" width="5.880373631117722" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect><rect class="overlay" x="0" y="504" height="15" width="5.653584260292995" opacity="0.8" style="fill: rgb(214, 39, 40);"></rect></g></svg></div>
